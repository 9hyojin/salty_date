<!DOCTYPE html>
<html lang="en-US"  >
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>소금왕자의 솔티데이트</title>
  <link rel='stylesheet' href='/style.css' type='text/css' media='all'/>
  <link rel='stylesheet' href='/saveDate.css' type='text/css' media='all'/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>

<body class="home page page-template page-template-template-portfolio page-template-template-portfolio-php">
<div id="page">
  <div class="container">
    <header id="masthead" class="site-header">
      <div class="site-branding">
        <h1 class="site-title"><a href="../" rel="home" style="font-family: Yoon">소금왕자의 솔티데이트</a></h1>
      </div>
      <nav id="site-navigation" class="main-navigation">
        <button class="menu-toggle">Menu</button>
        <a class="skip-link screen-reader-text" href="#content">Skip to content</a>
        <div class="menu-menu-1-container">
          <ul id="menu-menu-1" class="menu" style="font-family: Yoon">
            <li><a href="region">지역별</a></li>
            <li><a href="season">계절별</a></li>
            <li><a href="in_out">실내/야외</a></li>
            <li><a href="age">연령별</a></li>
            <li><a href="share">공유해요</a></li>
          </ul>
        </div>
      </nav>
    </header>

    <div class="dating-form" style="font-family: Yoon; padding: 5% 0%; font-size: large;">
      <form action="/update" method="post" name="updateForm">
        <input type="hidden" name="id" th:value="${updateDating.datingIdx}">
        <div class="container text-center">
          <div class="row g-2">
            <div class="col-md-8">
              <div class="p-1">
                <div class="dating-form-text">
                  <p class="datingTitle"><input type="text" style="width: 800px;" name="datingTitle" th:value="${updateDating.datingTitle}"></p>
                  <p class="datingAddress"><input style="width: 800px;" name="datingAddress" type="text" th:value="${updateDating.datingAddress}"></p>
                  <p class="datingContent"><textarea name="datingContent" style="width: 800px; height: 500px;" th:text="${updateDating.datingContent}"></textarea></p>
                  <!-- 해시 태그 -->
                  <p class="upload-form-hashtag" >
                    <input style="width: 740px;" type="text" placeholder="해시태그를 추가해보세요!" id="hashtag" name="hashtag">
                    <button class="addTag" type="button" onclick="addHashtag()">추가</button></p>
                  <!-- 추가한 해시 태그 리스트 -->
                  <div class="hashtagList" id="hashtagList"></div>
                  <!-- 해시 태그 end -->
                  <p><input type="text" style="width: 400px;" name="datingWriter" th:value="${updateDating.datingWriter}" readonly placeholder="이름을 입력하세요"></p>
                  <p><input type="text" style="width: 400px;" name="datingPassword" id="datingPassword" placeholder="비밀번호를 입력하세요"></p>
                </div>
              </div>
              <div class="dating-form-text2"></div>
            </div>
            <div class="col-md-2">
              <div class="p-1">
                <p>대표이미지를 선택해주세요</p>
                <p><input type="file" id="thumb" name="file" accept="image/*" onchange="setThumbnail(event);"></p>
                <div class="thumbContainer" id="thumb_container"></div>
                <!-- 대표이미지 -->
                <script>
                  function setThumbnail(event) {
                    const reader = new FileReader();

                    reader.onload = function(event) {
                      const img = document.createElement("img");
                      img.setAttribute("src", event.target.result);
                      img.style.width = '300px';
                      img.style.height = '300px';
                      document.querySelector("div#thumb_container").appendChild(img);
                    };

                    reader.readAsDataURL(event.target.files[0]);
                  }
                </script>
                <!-- 대표이미지 end -->
              </div>
            </div>
          </div>
        </div>
        <div class="container text-center2">
          <div class="btn-submit">
            <input type="button" value="글수정" onclick="datingUpdate()">
            <input type="button" value="글삭제" onclick="datingDelete()">
          </div>
        </div>
      </form>
    </div>
  </div>

  <footer id="colophon" class="site-footer" style="width: 100%">
    <div class="site-info">
      <h1 style="font-family: Yoon;color: #ccc;font-weight:300;text-align: center;margin-bottom:0;margin-top:0;line-height:1.4;font-size: 46px;">Salty Date</h1>
      <i class="fa fa-love"></i><a href="https://bootstrapthemes.co">Contact us | aaa@aaaa.aaa</a>
    </div>
  </footer>
  <a href="#top" class="smoothup" title="Back to top"><span class="genericon genericon-collapse"></span></a>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
</body>
<script th:inline="javascript">
  const datingUpdate = () => {
    const pass = [[${updateDating.datingPassword}]];
    const inputPass = document.getElementById("datingPassword").value;
    if (pass == inputPass) {
      document.updateForm.submit();
      alert("수정이 완료되었습니다!");
    } else {
      alert("비밀번호가 일치하지 않습니다!");
    }
  }

</script>


</html>

